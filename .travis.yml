language: python
python:
- '3.5'
install:
- pip install .[test]
jobs:
  include:
  - stage: lint
    script: flake8 ./srem/*.py
  - stage: type check
    script: mypy ./srem/*.py
  - stage: unit test
    script: pytest tests
deploy:
  provider: pypi
  user: oyam
  password:
    secure: mce2ZGdDq81pf7rg+L8x9WR3QWsR4gCbdFZ/SSZycP08Im2fDVa8gqCyoZhIcLYsnFr85El4OaQoFw4iHMjFtkiOgPKw1HwJ5HjnmTmG5DAZA16S/VJlVXQuMQkzcNlPPT2tJI2BriW/yJR99EDdrnbTHsfUjXq36SaFTbmMVlIsN8jDxP4tsloIxTr5WlAySiFoGnPSZz7g/kS70faCX3o7z1UbecVAtlPLMk5Jk9mFa7uBwdt00MZiq/P6B/oLfr2l3R//XTaRnN/cyd7Tkt1bqk8nBrZiS8C+zVzd8MEKRSXUFxZfjIyUb4lYOELNtQhiFgxssSu7OLPztt+/kFnv6IlsFu/OtTRa0wvYhiFtc+yVr18GuOuM4llxRmMVaqxlkWqINM8FxR9VeusrBSwzxSpd/JG7TpQGA9Rhm023cSiKHey05CByrdimM/kTJh8l7rOius9GpjTt1oU6W8KpSstM6XMiEUXgw28kidem1qegXKHD1guDR4/I1U7ktdzRaWMvSYYegqq88SHhSSmTtxXfovLQS6M320GkeoK30XNt1mH/XPQsAnJZkL5R8aBLB0h72JT/gWAipFYciBvMYdouAxLrXDAIp6LXx4vRcOLgilo9pMwBbLLV5GVjfukvV8G9zX1iQWjiseONERTwYtQxfaZ2xl+H2jNU3Uc=
  on:
    tags: true
