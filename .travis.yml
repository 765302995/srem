language: python
python:
- '3.5'
install:
- pip install .[test]
jobs:
  include:
  - stage: lint
    script: flake8 ./srem/*.py
  - stage: type check
    script: mypy ./srem/*.py
  - stage: unit test
    script: pytest tests
deploy:
  provider: pypi
  user: oyam
  password:
    secure: tE2SyRlrGMDE9tumqy1HnHMvUo5soo3iRlCEkYULMhmr3h1PMpx2ftsaMAoEOkYRhzcqXt5n0De/CDvzH3ROM9HT52ymBPKNWol9BcwykhwE0ZwM0POUjLhyC+LF8Wn3wrwo9KL0cJ7N1qFyFqG8mn1UVMQ6XQKiDY5QHFHb7jCbcKXP8aYI52n4mwVGJm6JA/2UQEcfEbkNvEEWsdgtkaIVjG5+cbt5cNorSHD+ktogy5YHFRvXNL1sOdS3mQY02H7kysQixaPajRtFjZlt5CLve94uzmd7iqzdJLiPn50n+hoIQAJ1xdCDusm9gCCPDdDvHa0Vm7sDX/2257id8k7cylJkeFyQufzVLG4r9Z9OIZDLy6S0lE2pE8FkkxKcxA9ZjvB5KG1o4GdEYBEeW1TbYy6oJjs+Zpgz4qw4SMcQBGBlBxLUBVXoYbqlBxA7luEUjbjQrHJDWD0P+D/gc55LVuSPY68UaUmkVwXiHVddzI51A2Hs03DWdBMalzkIQ3Yu0kYbcqIzKhZgysHYeOrxH1KKSBhH314Bm6+DujoFO9rxPxIU2nVleMH5aVNpMmiU9Z6nfWb9oy4pn7meOoL4PMVuifQK8sXSnlLCdmTZWGyb19EpbOsGoIy5YnyB51usjbDONeChoGLdg5++t9ND7Mzcgj9XDGGX1XP6QHY=
  on:
    tags: true
